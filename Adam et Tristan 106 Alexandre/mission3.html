<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mission 3</title>
    <link rel="stylesheet" href="assets/mission2.css">
</head>

<body>

<input type="checkbox" id="burgerer">
<nav class="burger">
    <label for="burgerer"><span>☰</span></label>
    <a href="acceuil.html">Acceuil</a>
    <a href="mission1.html">Mission 1</a>
    <a href="mission2.html">Mission 2</a>
    <a href="mission3.html">Mission 3</a>
    <a href="ccl.html">Conclusion Kdou</a>
    <a href="clcl.html">Bilan Rapport</a>

</nav>

<header class>
    <h1 class="head_title">Mission 3</h1>
</header>
<h2 class="title">Le Contexte</h2>
<main>
    <article>
        <hr>
        <h2><span class="ctxte">Un nouvel outil utilisé :</span></h2>
        <p >Après notre seconde analyse de la base de données de KDou sur Access à l'aide du <abbr title="Query by example">QBE</abbr>,
            nous avons, pour cette mission, effectué nos requêtes directement en <abbr title="Structured Query Language">SQL</abbr>,
            qui est le langage principalement utilisé pour effectuer des requêtes concernant les <strong>bases de données relationnelles</strong>.</p>
        <p>
            L’objectif de cette troisième mission est d’exploiter la base de données de l’entreprise
            KDou pour produire des analyses et indicateurs pertinents.</p>
        <hr>
        <p class="mini_titre">Pour produire ses indicateurs, on effectue des requêtes sur 4 thématiques principales :</p>
        <ul class="centre">
            <li> Les <strong>Desserts et Boissons</strong> de l'offre de KDou</li>
            <li> L'<strong>offre</strong> de KDou au global</li>
            <li> La <strong>Provenance</strong> des produits qu'offre KDou</li>
            <li> La <strong>clientèle</strong> de KDou</li>
        </ul>
    </article>
    <section>
        <h2 class="title">Les Indicateurs les plus pertinants</h2>
        <article class="requete">
            <h3 class="theme">Desserts et Boissons</h3>
            <h3 class="titleqbe_sql">Combien y a-t-il des produits correspondants vendus 50€ ou plus. On veut les connaître avec leur pays d’origine.</h3>
            <h4 class="mini_titre">Pour connaître le nombre de produits de catégorie boissons et desserts vendus à 50€ ou plus, nous avons effectué les requêtes SQL suivantes : </h4>
            <div>
                    <h3 class="ctxte">1ère requête pour le compte des produits en fonction de leur catégories: </h3>
                <p class="sql"> <code>SELECT DISTINCT Count(P.PrixUnit) AS CompteDePrixUnit, C.NomCateg</code>
                    <code>FROM CATEGORIE C INNER JOIN PRODUIT P ON C.CodeCateg = P.CodeCateg</code>
                    <code>WHERE P.PrixUnit>=50 AND (C.NomCateg="Boissons" OR C.NomCateg="Desserts")</code>
                    <code>GROUP BY P.CodeCateg, C.NomCateg;</code>
                </p>

                <div class="tab">
                    <table>
                        <thead><tr>
                            <th scope="col" class="bord_haut_droite">compte de prix unite</th>
                            <th scope="col" class="bord_haut_droite">Nom categorie</th>
                        </tr></thead>
                        <tbody><tr>
                            <td>1</td>
                            <td>Dessert</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>Boisson</td>
                        </tr></tbody>
                    </table>
                </div>
            </div>

            <div>
                <h3 class="ctxte">2 ême requête SQL pour le nom et l'origine des produits : </h3>
                <p class="sql"> <code>SELECT DISTINCT P.NomProd, F.Pays</code>
                    <code>FROM FOURNISSEUR F INNER JOIN (CATEGORIE C INNER JOIN PRODUIT P ON C.CodeCateg = P.CodeCateg) ON F.NoFour = P.NoFour</code>
                    <code>WHERE (((P.PrixUnit)>=50) AND ((C.NomCateg)="Boissons" Or (C.NomCateg)="Desserts"))</code>
                    <code>ORDER BY F.Pays; </code>
                </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">NomProduit</th>
                        <th scope="col" class="bord_haut_droite">Pays</th>
                    </tr></thead>
                    <tbody><tr>
                        <td>Rhönbräu Klosterbier</td>
                        <td>Allemagne</td>
                    </tr>
                    <tr>
                        <td>Pimm' s jojo</td>
                        <td>Australie</td>
                    </tr>
                    <tr>
                        <td>Steeleye Stout</td>
                        <td>Etats-Unis</td>
                    </tr>
                    <tr>
                        <td>Côte de Blaye</td>
                        <td>France</td>
                    </tr>
                    <tr>
                        <td>Sir Rodney's Marmalade</td>
                        <td>Royaume-Uni</td>
                    </tr>
                    <tr>
                        <td>Bratislava Vodka</td>
                        <td>Royaume-Uni</td>
                    </tr>
                    <tr>
                        <td>Chang</td>
                        <td>Royaume-Uni</td>
                    </tr>
                    <tr>
                        <td>Jus Kiwina</td>
                        <td>Royaume-Uni</td>
                    </tr></tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">

                <p>Pour effectuer cette requête à l'aide de SQL, il nous faut d'abord effectuer deux sous-requêtes. Pour la première sous-requête,
                    nous souhaitons afficher le nombre des produits recherchés. Ainsi, il nous suffit de sélectionner la table <em>Categorie</em>,
                    afin de pouvoir sélectionner les catégories <strong>Boissons</strong> et <strong>Desserts</strong>. Ensuite, nous effectuons une
                    <strong>jointure naturelle</strong> entre celle-ci et la table <em>Produit</em>, pour ne disposer que des produits appartenant aux
                    catégories sélectionnées. Enfin, nous indiquons un dernier critère de sélection au niveau de la clause WHERE : ne sélectionner
                    que les tuples de cette expression disposant d'un attribut <em>P.PrixUnit</em> ayant une valeur supérieure ou égale à <strong>50</strong>.
                    Et enfin, on projette le nombre de produits (à l'aide de la fonction d'agrégation COUNT) ainsi que la catégorie.</p>

                <p> Enfin,
                pour la 2<sup>e</sup> sous-requête permettant de disposer du nom et de l'origine des produits recherchés, on ne change que les attributs projetés,
                pour cette fois-ci projeter les attributs <em>P.NomProd</em> et <em>F.Pays</em>, afin de disposer du nom du produit ainsi que de son origine.</p>

                <p>Cette requête permet à KDou de voir l’image reflétée par les boissons et desserts haut de gamme qu’elle vend.
                    Si ceux-ci ont une mauvaise image pour la santé (ici, la majorité étant des boissons alcoolisées),
                    les pays d’origine influent également sur cette même image (les États-Unis, par exemple).</p>
            </div>
            <h3 class="titleqbe_sql">Quels sont les pays de provenance de ces catégories ?</h3>
            <div>
                <h3 class="ctxte">Requête SQL :</h3>
                <p class="sql"><code>SELECT DISTINCT F.Pays </code>
                    <code>FROM FOURNISSEUR F INNER JOIN (CATEGORIE C INNER JOIN Produit P ON C.CodeCateg = P.CodeCateg)</code>
                    <code>ON F.NoFour = P.NoFour</code>
                    <code>WHERE (((C.NomCateg)="Boissons" Or (C.NomCateg)="Desserts"));</code>
                </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">Pays</th>
                    </tr></thead>
                    <tbody><tr>
                        <td>Allemagne</td>
                    </tr>
                    <tr>
                        <td>Australie</td>
                    </tr>
                    <tr>
                        <td>Bresil</td>
                    </tr>
                    <tr>
                        <td>Canada</td>
                    </tr>
                    <tr>
                        <td>Etats Unis</td>
                    </tr>
                    <tr>
                        <td>Finlande</td>
                    </tr>
                    <tr>
                        <td>France</td>
                    </tr>
                    <tr>
                        <td>Pays Bas</td>
                    </tr>
                    <tr>
                        <td>Royaume Uni</td>
                    </tr>
                    <tr>
                        <td>Singapour</td>
                    </tr>
                    <tr>
                        <td>Suede</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <p>
                    Avec cette requête, KDou peut visualiser, en fonction des régions (ou continents), les produits disponibles dans son offre appartenant à la
                    catégorie <strong>desserts</strong> ou à celle des <strong>boissons</strong>.
                    Ainsi, pour réaliser cette requête en SQL, il suffit d'effectuer une jointure naturelle entre la table <strong>catégorie</strong>
                    (afin de filtrer selon les catégories) et la table <strong>produit</strong>,
                    puis de réaliser une autre jointure naturelle entre cette dernière et la table <strong>fournisseur</strong>.
                    Cette dernière jointure permet d'obtenir les pays d'origine des produits, qui correspondent aux pays d'origine de leurs fournisseurs respectifs.
                </p>
                <p>Cette requête permet à KDou d'identifier dans quels nouveaux marchés considérés comme plus sains KDou peut investir pour
                    diversifier son offre (le marché japonais par exemple).
                </p>
            </div>
        </article>
        <article class="requete">
            <h3 class="theme">Offre</h3>
            <h3 class="titleqbe_sql">Donner des informations sur les fournisseurs qui proposent des produits qui ne sont pas commandés actuellement </h3>
            <div>
                <h3 class="ctxte">Requête SQL :</h3>
                <p class="sql"><code>SELECT F.NoFour, F.Societe, F.Contact, F.Fonction, F.Pays, F.Tel</code>
                    <code>FROM FOURNISSEUR AS F INNER JOIN (PRODUIT AS P LEFT JOIN DETAILCOMMANDE AS D ON P.RefProd = D.RefProd) ON F.NoFour = P.NoFour</code>
                    <code>WHERE (((D.RefProd) Is Null))</code>
                    <code>GROUP BY  F.Pays, F.NoFour, F.Societe, F.Contact, F.Fonction, F.Tel;</code>

                </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">NoFour</th><th scope="col" class="bord_haut_droite">Societe</th><th scope="col" class="bord_haut_droite">Contact</th><th scope="col" class="bord_haut_droite">Fonction</th><th scope="col" class="bord_haut_droite">Pays</th><th scope="col" class="bord_haut_droite">Telephone</th>
                    </tr></thead>
                    <tbody><tr><td>24</td>	<td>G'day, Mate</td><td>	Wendy Mackenzie</td>	<td>Représentant(e)</td>	<td>Australie</td>	<td>555-8787-5534</td></tr>
                    <tr><td>31</td>	<td>Westpac Corporation</td>	<td>Charlie Colley</td>	<td>Acheteur</td>	<td>Australie</td>	<td>555-8237-2432</td></tr>
                    <tr><td>41</td>	<td>Edwin Liquids</td>	<td>Paul Smithy</td>	<td>Responsable de zone</td>	<td>Australie</td>	<td>555-8237-2432</td></tr>
                    <tr><td>10</td>	<td>Refrescos Americanas LTDA</td><td>	Carlos Diaz	</td><td>Directeur du marketing</td>	<td>Brésil</td>	<td>(11) 555 4640</td></tr>
                    <tr><td>30</td>	<td>Faro Madeiras</td>	<td>Claudio Sole</td>	<td>Chef des ventes</td>	<td>Brésil</td>	<td>(11) 535 4678</td></tr>
                    <tr><td>32</td>	<td>Perdigão</td>	<td>Helena Carbo</td>	<td>Représentant</td>	<td>Brésil</td>	<td>(11) 309 7634</td></tr>
                    <tr><td>29	<td>Forêts d'érables</td>	<td>Chantal Goulet</td>	<td>Chef des ventes</td>	<td>Canada</td>	<td>(514) 555-2955</td></tr>
                    <tr><td>34</td>	<td>Losad</td>	<td>Hug Jhonson</td>	<td>Acheteur</td>	<td>Canada</td>	<td>89823298</td></tr>
                    <tr><td>2</td>	<td>New Orleans Cajun Delights</td>	<td>Shelley Burke</td>	<td>Acheteur</td>	<td>Etats-Unis</td>	<td>(100) 555-4822</td></tr>
                    <tr><td>33</td>	<td>Globalis</td>	<td>Bob Rego</td>	<td>Représentant(e)</td><td>	France</td>	<td>01020</td></tr>
                    <tr><td>1</td>	<td>Exotic Liquids</td>	<td>Alyssa Messata</td>	<td>Assistant export</td>	<td>Royaume-Uni</td>	<td>(71) 555-2222</td></tr>
                    <tr><td>20</td>	<td>Leka Trading</td>	<td>Chandra Leka</td>	<td>Propriétaire</td>	<td>Singapour</td>	<td>555-8787</td></tr>
                    <tr><td>9</td>	<td>PB Knäckebröd AB</td>	<td>Lars Peterson</td>	<td>Assistant(e) des ventes</td>	<td>Suède</td>	<td>031-987 65 43</td></tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <p>Avec cette requête, KDou souhaite disposer des informations sur les fournisseurs qui proposent des produits qui ne sont <strong>pas</strong> commandés actuellement.
                    Ainsi, il suffit d'effectuer (en SQL) une <strong>jointure externe gauche</strong> entre la table <em>produit</em> et la table <em>DetailCommande</em>, afin d'obtenir l'ensemble des produits,
                    avec des valeurs nulles pour les attributs de la table <em>DetailCommande</em> lorsque celle-ci n'est en relation avec aucun produit (c'est-à-dire que le produit n'a jamais été commandé).
                    Ensuite, on effectue une <strong>jointure naturelle</strong> entre cette expression et la table <em>Fournisseur</em>,
                    afin de disposer des informations relatives à ceux-ci. Dans la clause WHERE, on spécifie que seuls les produits pour lesquels l'attribut
                    <em>D.RefProd</em> (D étant la table DetailCommande) est NULL doivent être sélectionnés, indiquant ainsi que le ou les produits n'ont pas été commandés.
                    Enfin, on effectue une sélection des sous-ensembles des attributs que l'on souhaite afficher.</p>
                <p>
                    KDou peut, à l’aide de cette sélection, limiter ses importations vis-à-vis de ces fournisseurs dont
                    les produits sont les plus compliqués à vendre, et peut au contraire privilégier l’achat de produits
                    des fournisseurs dont l’entièreté des produits a été achetée.
                </p>
            </div>
            <h3 class="titleqbe_sql">Quels sont les pays qui ont une offre importante de produit</h3>
            <div>
                <h3 class=ctxte>Requête SQL :</h3>
                <p class="sql"><code>SELECT Count(P.NomProd) AS NbreDeProd, F.Pays</code>
                    <code>FROM Fournisseur F INNER JOIN Produit P ON F.NoFour = P.NoFour</code>
                    <code>GROUP BY F.Pays</code>
                    <code>ORDER BY 1 DESC;</code>
                </p>
            </div>

            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">NbreDeProd</th><th scope="col" class="bord_haut_droite">Pays</th>
                    </tr></thead>
                    <tbody><tr>
                        <td>22</td>	<td>Royaume-Uni</td>
                    </tr>
                    <tr>
                        <td>13</td>	<td>Etats-Unis</td>
                    </tr>
                    <tr>
                        <td>11</td>	<td>Allemagne</td>
                    </tr>
                    <tr>
                        <td>10</td>	<td>Australie</td>
                    </tr>
                    <tr>
                        <td>8</td>	<td>Brésil</td>
                    </tr>
                    <tr>
                        <td> 8</td>	<td>Canada</td>
                    </tr>
                    <tr>
                        <td>7</td>	<td>Suède</td>
                    </tr>
                    <tr>
                        <td>6</td>	<td>France</td>
                    </tr>
                    <tr>
                        <td>6</td>	<td>Japon</td>
                    </tr>
                    <tr>
                        <td>5</td>	<td>Italie</td>
                    </tr>
                    <tr>
                        <td>4</td>	<td>Singapour</td>
                    </tr>
                    <tr>
                        <td>3</td>	<td>Espagne</td>
                    </tr>
                    <tr>
                        <td> 3</td>	<td>Norvège</td>
                    </tr>
                    <tr>
                        <td>3</td>	<td>Finlande</td>
                    </tr>
                    <tr>
                        <td>2</td>	<td>Danemark</td>
                    </tr>
                    <tr>
                        <td>2</td>	<td>Pays-Bas</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <p>
                    De par cette requête, KDou souhaite disposer d'une liste des pays ayant une part importante dans la constitution de son offre de produits.
                    Ainsi, il suffit de compter le nombre de produits apparaissant par pays et de classer la liste des pays dans un ordre décroissant en fonction de ce nombre.
                Pour effectuer cela en SQL, nous devons tout d'abord réaliser une <strong>jointure naturelle</strong> entre la table <strong>produit</strong> et la table <strong>fournisseur</strong>, afin de relier les produits à leurs fournisseurs.
                    Ensuite, nous regroupons toutes les données en fonction des valeurs de l'attribut <em>Pays</em> de la table <em>Fournisseur</em>, ce qui crée plusieurs sous-ensembles, dont nous comptons les éléments à l'aide de la fonction d'agrégation <em>COUNT</em> et affichons le nombre d'éléments en fonction du pays (au niveau du <em>SELECT</em>).
                </p>

                <p>Avec cette requête, KDou peut visualiser quelles sont les régions (continents) les plus représentées concernant son offre,
                    pour proposer plus de produits des régions où il dispose de peu ou d’aucune offre afin de diversifier celle-ci et conquérir
                    de nouveaux clients (exemple : produits chinois ou d’origine africaine).</p>
            </div>
        </article>

        <article class="requete">
            <h3 class="theme">Provenance</h3>
            <h3 class="titleqbe_sql">Quels fournisseurs vendent uniquement des boissons ou des desserts</h3>
            <div>
                <h3 class="ctxte">Requête SQL :</h3>
                <p class="sql"><code>SELECT F.NoFour, F.Societe</code>
                    <code>FROM Fournisseur F</code>
                    <code>WHERE F.NoFour NOT IN ( SELECT F2.NoFour</code>
                    <code>FROM Categorie C2  INNER JOIN (Fournisseur F2 INNER JOIN Produit P2 ON F2.NoFour = P2.NoFour) </code>
                    <code>             ON C2.CodeCateg = P2.CodeCateg</code>
                    <code>WHERE C2.NomCateg NOT IN ("Boissons", "Desserts"));</code>

                </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">NoFour</th><th scope="col" class="bord_haut_droite">Societe</th>
                    </tr></thead>
                    <tbody><tr>
                        <td> 8</td>	<td>Specialty Biscuits, Ltd.</td>
                    </tr>
                    <tr>
                        <td>10</td>	<td>Refrescos Americanas LTDA</td>
                    </tr>
                    <tr>
                        <td>11</td>	<td>Heli Süßwaren GmbH & Co. KG</td>
                    </tr>
                    <tr>
                        <td>18</td>	<td>Aux joyeux ecclésiastiques</td>
                    </tr>
                    <tr>
                        <td>22</td>	<td>Zaanse Snoepfabriek</td>
                    </tr>
                    <tr>
                        <td>23</td>	<td>Karkki Oy</td>
                    </tr>
                    <tr>
                        <td>30</td>	<td>Faro Madeiras</td>
                    </tr>
                    <tr>
                        <td>31</td>	<td>Westpac Corporation</td>
                    </tr>
                    <tr>
                        <td>32</td>	<td>Perdigão</td>
                    </tr>
                    <tr>
                        <td>33</td>	<td>Globalis</td>
                    </tr>
                    <tr>
                        <td>34</td>	<td>Losad</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div>
                <hr class="hr_interprete">
                <p>
                    De par cette requête, KDou souhaite disposer d'une liste des informations relatives aux fournisseurs qui ne vendent que des boissons ou des desserts.
                    Ainsi, pour effectuer cette requête en SQL, il nous suffit de sélectionner la table <em>Fournisseur</em>, et d'effectuer une sous-requête pour l'attribut
                    <em>NoFour</em> de la table <em>Fournisseur</em>. Cette sous-requête consiste en une <strong>jointure naturelle</strong> entre la table <em>Fournisseur</em>
                    et la table <em>Produit</em>, puis d'effectuer une autre <strong>jointure naturelle</strong> entre cette expression et la table <em>Categorie</em>.
                    Enfin, pour ce qui est de cette sous-requête, on ne sélectionne que les tuples qui ne font pas partie de la catégorie <strong>Boissons</strong> ou <strong>Desserts</strong>.
                    Or, le lien entre notre requête et notre sous-requête consiste en une exclusion (NOT IN) des tuples ayant la valeur de la sous-requête pour l'attribut <em>NoFour</em>.
                    Cela permet donc de ne sélectionner que les fournisseurs ne vendant que des <strong>boissons</strong> ou des <strong>Desserts</strong>.
                    Enfin, on projette de cette expression le numéro du fournisseur et le nom de la société.
                </p>
                <p>Avec cette requête, KDou peut identifier les fournisseurs qui se spécialisent exclusivement dans la vente de boissons ou de desserts.
                    En ciblant ces fournisseurs, KDou peut renforcer son partenariat avec des spécialistes, assurant ainsi une qualité et une expertise dans
                    les catégories de boissons et desserts.</p>
            </div>
            <h3 class="titleqbe_sql">Quels fournisseurs vendent uniquement des boissons et des desserts</h3>
            <div>
                <h3 class="ctxte">Requête SQL :</h3>
                <p class="sql"><code>SELECT F.NoFour, F.Societe</code>
                    <code>FROM FOURNISSEUR AS F</code>
                    <code>WHERE F.NoFour NOT IN ( SELECT F2.NoFour</code>
                    <code>FROM Categorie C2  INNER JOIN (Fournisseur F2 INNER JOIN Produit P2 ON F2.NoFour = P2.NoFour) </code>
                    <code>ON C2.CodeCateg = P2.CodeCateg</code>
                    <code>WHERE C2.NomCateg NOT IN ("Boissons", "Desserts"))</code>
                    <code>AND F.NoFour IN (SELECT F2.NoFour</code>
                    <code>FROM Categorie C2  INNER JOIN (Fournisseur F2 INNER JOIN Produit P2 ON F2.NoFour = P2.NoFour) </code>
                    <code>          ON C2.CodeCateg = P2.CodeCateg</code>
                    <code>WHERE C2.NomCateg ="Boissons")</code>
                    <code>AND F.NoFour IN (SELECT F2.NoFour</code>
                    <code>FROM Categorie C2  INNER JOIN (Fournisseur F2 INNER JOIN Produit P2 ON F2.NoFour = P2.NoFour) </code>
                    <code>        ON C2.CodeCateg = P2.CodeCateg</code>
                    <code>WHERE C2.NomCateg ="Desserts");</code>
                </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">NoFour</th><th scope="col" class="bord_haut_droite">Societe</th>
                    </tr></thead>
                    <tbody><tr>
                        <td> 10</td>	<td>Refrescos Americanas LTDA</td>
                    </tr>
                    <tr>
                        <td>23</td>	<td>Karkki Oy</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <p>De par cette requête, Kdou souhaite disposer d'une liste des informations relatives aux fournisseurs qui ne vendent que des boissons et des desserts.
                    Ainsi, pour effectuer cette requête en SQL, il nous suffit de sélectionner la table <em>Fournisseur</em>, et d'effectuer 3 sous-requêtes
                    (intersection en algèbre relationnelle). La première ayant été effectuée précédemment,
                    permettant de trouver tous les fournisseurs qui vendent des boissons ou des desserts, les 2 suivantes vont, quant à elles,
                    consister en l'utilisation du "IN" dans la section "WHERE" pour l'attribut <em>NoFour</em> de la table <em>Fournisseur</em>.

                    Les 2 sous-requêtes (supplémentaires à la première) sont similaires. Elles consistent en une <strong>jointure naturelle</strong>
                    entre la table <em>Fournisseur</em> et la table <em>Produit</em>, puis en une autre <strong>jointure naturelle</strong>
                    entre l'expression précédente et la table <em>Categorie</em>, en ne sélectionnant que les tuples disposant de la valeur
                    <strong>Boissons</strong> dans la première sous-requête et <strong>Desserts</strong> dans la seconde.
                    Ce qui permet de faire l'intersection entre le sous-ensemble des fournisseurs qui vendent des boissons et ceux qui vendent des desserts
                    lorsque couplé à la première sous-requête. Enfin, on projette de cette expression le numéro du fournisseur et le nom de la société.

                </p>

                <p>Avec cette requête, KDou peut identifier les fournisseurs qui proposent à la fois des boissons et des desserts,
                    ce qui offre la capacité à offrir une variété de produits dans ces deux catégories. En repérant ces fournisseurs,
                    KDou peut tirer parti de leur polyvalence pour enrichir l'offre de boissons et desserts, permettant ainsi d'élargir le choix pour les clients. </p>
            </div>
        </article>
        <article class="requete">
			<h3 class="theme">Clientèle</h3>
            <h3 class="titleqbe_sql">Quels sont couples de clients de Besançon pourrait on créer </h3>
			<div>
			<h3 class="mini_titre">Requête SQL :</h3>
                <p class="sql"><code>SELECT Cl.VilleCli, Cl.SocieteCli</code>
					<code>FROM Client Cl</code>
					<code>WHERE (((Cl.VilleCli)="Besancon")) OR (((Cl.VilleCli)="Besançon"))</code>
					<code>ORDER BY Cl.SocieteCli;</code>
                </p>
			</div>
			<div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">VilleCli</th><th scope="col" class="bord_haut_droite">SocieteCli</th>
                    </tr></thead>
                    <tbody><tr>
                       <td> Besançon</td>	<td>Chez Kév</td>
                    </tr>
                    <tr>
                        <td>Besancon</td>	<td>Le clos bisontin</td>
                    </tr>
                    </tbody>
                </table>
            </div>		
			<div>
                <hr class="hr_interprete">
                <p>Avec cette requete, KDou souhaite disposer de la liste des clients de Besancon. 
                    Ainsi, il suffit de selectionner les clients dont leure ville est Besancon.
                     Pour effectuer cela en SQL, on selectionne la table <em>client</em> et on utilise la condition WHERE. Enfin on affiche simplement le nom du client et on trie par ordre alphabétique</p>
                <p>Cette commande permet comme la précédente de pouvoir relié ses différents clients afin de faire des livraisons
				plus efficaces et plus respectueuse de l’environnement en utilisant qu’un seul camion de livraison pour les clients de Besancon. </p>
            </div>
			<h3 class="titleqbe_sql">Certains clients n’ont jamais eu la remise la plus importante de 25% </h3>
			<div>
			<h3 class="mini_titre">Requête SQL :</h3>
                <p class="sql"><code>SELECT Cl.CodeCli , Cl.SocieteCli</code>
					<code>FROM CLIENT Cl</code>
					<code>WHERE Cl.CodeCli Not In (SELECT C.CodeCli </code>
					<code>FROM COMMANDE C INNER JOIN DETAILCOMMANDE D ON C.NoCom = D.NoCom</code>
					<code>WHERE D.Remise=0.25)</code>
					<code>ORDER BY Cl.SocieteCli;</code>
                </p>
			</div>
			<div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">CodeCli</th>
                    </tr></thead>
                    <tbody><tr>
                       <td> ALYAD</td>	
                    </tr>
                    <tr>
                        <td>MAKOU</td>
                    </tr>
					<tr>
                        <td>MORJU</td>
                    </tr>
                    </tbody>
                </table>
            </div>
			<div>
                <hr class="hr_interprete">
                <p>Pour savoir quels clients n'ont jamais eu la remise on utilise le principe de la <strong>difference</strong>. 
                En effet on selectionne(FROM) d'abord la table des <em>clients</em> et on fait une jointure (INNER JOIN)entre leur commande et le detail de leur commande pour les lier.
                 On cherche les éléments qui ont eu une remise de 25% . On prend une deuxième table client complète et on enleve ceux qui apparaissent dans la table créée précedemment(NOT IN).
                 Ainsi on obtient bien tous les clients qui n'ont jamais eu cette remise</p>
                <p>Cette requête permet d’analyser les clients pour savoir lesquels n’ont jamais eu de remise de 25%.
				On remarque que les 3 clients concernés sont français. Cette requête permet de développer l’économie et 
				la fidélité des clients en se demandant quelles remises sont les plus pertinentes et les plus avantageuses. </p>
            </div>			
		</article>	
    </section>
    <section>
        <h2 class="title">Proposition d'indicateurs</h2>
        <p>Chaque membre de l’équipe propose maintenant 1 requête intéressante de son point de vue 
            pour la problématique de KDou : respect de l’environnement, optimisation de son offre, ….</p>
        <article class="requete">
            <h3 class="theme">Requete de Adam </h3>
            <div>
            <h3 class="mini_titre">Quels sont les produits non européens qui n'ont pas encore été achetés, 
                avec leurs origines détaillées</h3>
            <p>Cette requête permettrait à KDou d'évaluer la possibilité de <strong> limiter l'importation</strong> de 
                produits provenant de pays lointains, notamment d'Asie, afin de réduire son empreinte carbone. 
                En privilégiant des importations de pays géographiquement plus <strong>proches</strong>, comme ceux d'Europe, 
                pour mieux respecter l'environnement. </p>
            <p>Cette liste de produit non vendue, permettra à KDou de <strong>stopper</strong> l'importation des 
                produits non européens peu populaires, pour se concentrer sur les produits européens plus 
                proche, tout en maintenant l’offre de produits asiatiques à succès pour ne pas perdre de 
                clientèle. L'idée est de <strong>limiter les importations polluantes</strong> sans diminuer drastiquement l'offre, 
                tout en optimisant son inventaire.</p>
            <p>L’ensemble des pays non Européens étant :  Australie, « Brésil » ou  « Canada » ou  « Etats-Unis » 
                ou « Japon » ou « Singapour ».</p>
            </div>
            <div>
            <h3 class="mini_titre">Requête SQL :</h3>
                <p class="sql"><code>SELECT F.Pays, P.NomProd</code> 
                    <code> FOURNISSEUR F INNER JOIN (PRODUIT P LEFT JOIN DETAILCOMMANDE D ON P.RefProd = D.RefProd) </code>
                    <code>                                            ON F.NoFour = P.NoFour </code>
                    <code> WHERE (D.RefProd Is Null) AND (F.Pays="Australie"OR F.Pays="Brésil" OR F.Pays="Canada" OR </code>
                    <code> F.Pays="Etats-Unis" OR F.Pays="Japon" OR F.Pays="Singapour") </code>
                    <code> ORDER BY 1, 2; </code>
                </p>
			</div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">Pays</th><th scope="col" class="bord_haut_droite">NomProd</th>
                    </tr></thead>
                    <tbody><tr><td>Australie</td><td> Arnott's Tim Tam Biscuits</td></tr>
                        <tr><td>Australie </td>
                            <td>Pimm' s jojo </td></tr>
                        <tr><td>Australie </td>
                            <td>Tim Tams</td></tr>
                        <tr><td>Australie </td>
                            <td>Victoria Bitter</td></tr>
                        <tr><td>Brésil </td>
                            <td>Cachaça </td></tr>
                        <tr><td>Brésil </td>
                            <td>Cachaça Mikala</td></tr>
                        <tr><td>Brésil </td>
                            <td> Cachaça zuavio</td></tr>
                        <tr><td>Brésil </td>
                            <td> Cachaça zuaviocado</td></tr>
                        <tr><td>Brésil </td>
                            <td>Chocolado Aquim</td></tr>
                        <tr><td>Brésil </td>
                            <td>Guaraná em pô </td></tr>
                        <tr><td>Brésil </td>
                            <td>Guaraná Marvesa </td></tr>
                        <tr><td>Canada </td>
                            <td>CocaNet </td></tr>
                        <tr><td>Canada </td>
                            <td>Jus d'érable d'or </td></tr>
                        <tr><td>Canada </td>
                            <td>Sugar bleu blanc </td></tr>
                        <tr><td>Etats-Unis </td>
                            <td>Louisiana Coca</td></tr>
                        <tr><td>Singapour </td>
                            <td>Laksa Paste </td></tr>
                        <tr><td>Singapour </td>
                            <td> Sambal Chilli Sauce</td></tr>
                    </tbody>
                </table>
            </div>		
            <div>
                <hr class="hr_interprete">
                    <p>Tout d’abord pour concevoir cette requête SQL, j’ai effectué une jointure externe gauche entre la 
                    table (ou relation) <em>Produit</em> et<em> DetailCommande</em> en reliant celles-ci par les valeurs communes de 
                    l’attribut qu’elles ont en commun, c’est-à-dire les valeurs des références des produits lorsqu’elles 
                    sont similaires pour leurs attributs RefProd respectif, excepté pour la table commande ou les 
                    valeurs apparaissent dans tous les cas avec des valeurs <em>nulles</em> associés pour la table 
                <em>DetailCommande</em> lorsque la condition (Produit.RefProd = DetailCommande.RefProd) n’est pas 
                    respecté. </p>
                    <p>J’ai cependant rajouté comme condition à cette jointure (dans le WHERE), le fait que nous ne 
                    garderons seulement que les tuples de la relation où les valeurs de RefProd apparaissant dans la 
                    Table Produit n’apparaissent pas dans la table DetailCommande. </p>
                     
                    <p>Cela nous permet donc de ne sélectionner que les produits et plus particulièrement les produits 
                    dont le Numéro du Fournisseur (NoFour) n’est pas apparu dans le détail des commandes, soit les 
                    produits n’ayant jamais été acheté et donc là où pour la table commande, les valeurs de 
                    DetailCommande apparaissent comme étant Nulle. </p>
                     
                    <p>Par la suite pour pouvoir sélectionner et afficher l’origine de ces produits j’ai effectué une 
                    <em>jointure naturelle</em> entre la table Produit et Fournisseur reliant tous les tuples de ces tables qui 
                    ont respectivement les mêmes valeurs pour l’attributs qu’ils ont en commun, soit l’attribut 
                    NoFour. La jointure naturelle ne fait apparaitre, cette fois-ci, que les tuples pour les 2 tables 
                    répondant à la condition (valeurs identiques pour l’attributs NoFour dans chaque table). On 
                    rajoute à ceci (la jointure) la condition suivante : Que les valeurs de l’attributs <em>Pays</em> dans la table 
                    Fournisseurs fasse partie de cette ensemble {Australie,Japon,Brésil,Etat-Uni,Canada,Singapour}. </p>
                     
                    <p>Puis on projette notre sélection sur l’attributs pays de la table Fournisseur et sur l’attribut 
                    NomProd de la table Produit pour afficher le pays d’origine et le nom des produits n’ayant pas 
                    encore été acheté.</p>
            </div>	
        </article>
        <article class="requete">
            <h3 class="theme">Requete de Tristan </h3>
            <div>
            <h3 class="mini_titre">Quels sont les pays qui proposent le plus de produits</h3>
            <p>Cette requete permet a Kdou Corp d'identifer les pays majoritairement fournisseurs de leur service. Grace a celle ci elle peut mieux
                connaitre les pays les plus développé chez Kdou. Cela permet de savoir les zones les plus rentables ou se développer. Cela permet par exemple
            de retirer des produits de certains pays qui ne sont pas dans les zones les plus recherché et ainsi diminuer l'empreinte carbonne de facon optimisée.</p>
            </div>
            <div>
                <h3 class="mini_titre">Requête SQL :</h3>
                    <p class="sql"><code>SELECT TOP 1 F.Pays, COUNT(F.Pays) AS fréquence </code>
                        <code>FROM Fournisseur F </code>
                        <code>GROUP BY F.Pays </code>
                        <code>ORDER BY COUNT(F.Pays) DESC  </code>
                    </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">Pays</th><th scope="col" class="bord_haut_droite">Frequence</th>
                    </tr></thead>
                    <tbody><tr>
                       <td> France</td><td> 4</td>	
                    </tr>
                    <tr>
                        <td>Australie</td><td> 4</td>
                    </tr>
					<tr>
                        <td>Etats Unis</td><td> 4</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <h3 class="mini_titre">Explication :</h3>
                
                    <p>On selectionne la table <em>Fournisseur</em>  
                    On regroupe les lignes en fonction de leurs valeurs dans l'attribut <em>Pays</em>
                    Puis on compte le nombre de ligne des sous ensembles
                    Enfin on trie les <em>pays</em> dans l’ordre décroissant 
                    Et on affiche seulement les pays avec la plus grandes valeurs 
                </p>
                
            </div>

        </article>
        <article class="requete">
            <h3 class="theme">Requete de Alexandre </h3>
            <div>
            <h3 class="mini_titre">Quels sont les pays qui proposent le plus de produits</h3>
                <p> Avec cette requête, on affiche les bouteilles et canettes pour déterminer les contenants qui pose 
                    problème écologiquement et donc polluant. Faire le triage permet de maintenir l'image de Kdou qui 
                    respect l'environnement</p>
                <p>En plus de maintenir son image, Kdou pourra savoir quel type de contenant améliorer.</p>
            </div>
            <div>
                <h3 class="mini_titre">Requête SQL :</h3>
                    <p class="sql"><code>SELECT P.QteParUnite, P.NomProd </code>
                        <code>FROM Produit AS P </code>
                        <code>WHERE P.QteParUnite LIKE "*bouteille*" OR P.QteParUnite LIKE "*canette*" </code>
                        <code>ORDER BY 1, 2; </code>
                    </p>
            </div>
            <div class="tab">
                <table>
                    <thead><tr>
                        <th scope="col" class="bord_haut_droite">QteParUnite</th><th scope="col" class="bord_haut_droite">NomProd</th>
                    </tr></thead>
                    <tbody><tr>
                       <td> 1 bouteille (500 ml) </td>
                        <td>Lakkalikööri </td>	
                    </tr>
                    <tr>
                        <td>1 bouteille (50cl) </td>
                            <td>Cachaça Mikala </td>
                    </tr>
					<tr>
                        <td>1 bouteille (75 cl) </td>
                            <td>Chartreuse verte </td>
                    </tr>
                    <tr>
                        <td>1 bouteilles (12 onces) </td>
                            <td>Laughing Lumberjack Lager  </td>
                    </tr>
                    <tr>
                        <td>1 bouteilles (12 onces) </td>
                            <td>Sasquatch Ale </td>
                    </tr>
                    <tr>
                        <td>1 bouteilles (550 ml) </td>
                            <td>Aniseed Syrup</td>
                    </tr>
                    <tr>
                        <td>10 canettes </td>
                            <td>Jus Agava </td>
                    </tr>
                    <tr>
                        <td>10 canettes </td>
                            <td>Jus Kiwina </td>
                    </tr>
                    <tr>
                        <td>12 bouteilles (12 onces) </td>
                            <td>Chang  </td>
                    </tr>
                    <tr>
                        <td>12 bouteilles (75 cl) </td>
                            <td>Côte de Blaye  </td>
                    </tr>
                    <tr>
                        <td>12 canettes (12 onces) </td>
                            <td>Guaraná em pô  </td>
                    </tr>
                    <tr>
                        <td>12 canettes (12 onces) </td>
                            <td>Jack's New England Clam Chowder  </td>
                    </tr>
                    <tr>
                        <td colspan="2">Et d'autres..  </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <hr class="hr_interprete">
                <h3 class="mini_titre">Explication :</h3>
                <p>Cette requete sert a afficher les produits qui sont emballées en cannette ou en bouteille. Pour faire cela en SQL, 
                    on sélectionne la table <em>produits</em> et on garde seulement les elements dont l'emballage correspond avec WHERE</p>
                <p></p>
            </div>

        </article>
    </section>
</main>


<footer>
    <h2>Pied De Page</h2>
      <ul class="list_liens">
          <li>
              <h3 class="txtfooter"> Les Autres Missions  </h3>
          </li>
          <li>
            <a href="mission1.html"><span>Mission 1</span></a>
        </li>
          <li>
              <a href="mission2.html"><span>Mission 2</span></a>
          </li>
          <li>
              <a href="mission3.html"><span>Mission 3</span></a>
          </li>
          <li>
            <a href="ccl.html"><span>Conclusion Kdou</span></a>
        </li>
        <li>
          <a href="clcl.html"><span>Bilan Rapport</span></a>
      </li>
      </ul>
  </footer>
</body>
</html>
